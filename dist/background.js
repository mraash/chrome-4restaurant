// src/chrome/background.ts
chrome.runtime.onInstalled.addListener(() => {
  chrome.contextMenus.create({
    id: "sort-by-category",
    title: "Kategoriz\u0113t piepras\u012Bjumu tabulu",
    contexts: ["page"]
  });
  chrome.contextMenus.create({
    id: "export-to-excel",
    title: "Eksport\u0113t uz Excel",
    contexts: ["page"]
  });
  chrome.contextMenus.create({
    id: "export-write-off",
    title: "Export\u0113t uz Horizon failu (produkti + daudzums)",
    contexts: ["page"]
  });
  chrome.contextMenus.create({
    id: "export-write-off-no-quantity",
    title: "Export\u0113t uz Horizon failu (produkti)",
    contexts: ["page"]
  });
});
chrome.contextMenus.onClicked.addListener((info, tab) => {
  if (info.menuItemId === "sort-by-category" && tab?.id) {
    chrome.tabs.sendMessage(tab.id, { type: "SORT_BY_CATEGORY" });
  }
  if (info.menuItemId === "export-to-excel" && tab?.id) {
    chrome.tabs.sendMessage(tab.id, { type: "EXPORT_TO_EXCEL" });
  }
  if (info.menuItemId === "export-write-off" && tab?.id) {
    chrome.tabs.sendMessage(tab.id, { type: "EXPORT_WRITE_OFF" });
  }
  if (info.menuItemId === "export-write-off-no-quantity" && tab?.id) {
    chrome.tabs.sendMessage(tab.id, { type: "EXPORT_WRITE_OFF_NO_QUANTITY" });
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2Nocm9tZS9iYWNrZ3JvdW5kLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjaHJvbWUucnVudGltZS5vbkluc3RhbGxlZC5hZGRMaXN0ZW5lcigoKSA9PiB7XG4gIGNocm9tZS5jb250ZXh0TWVudXMuY3JlYXRlKHtcbiAgICBpZDogJ3NvcnQtYnktY2F0ZWdvcnknLFxuICAgIHRpdGxlOiAnS2F0ZWdvcml6XHUwMTEzdCBwaWVwcmFzXHUwMTJCanVtdSB0YWJ1bHUnLFxuICAgIGNvbnRleHRzOiBbJ3BhZ2UnXVxuICB9KTtcbiAgY2hyb21lLmNvbnRleHRNZW51cy5jcmVhdGUoe1xuICAgIGlkOiAnZXhwb3J0LXRvLWV4Y2VsJyxcbiAgICB0aXRsZTogJ0Vrc3BvcnRcdTAxMTN0IHV6IEV4Y2VsJyxcbiAgICBjb250ZXh0czogWydwYWdlJ11cbiAgfSk7XG4gIGNocm9tZS5jb250ZXh0TWVudXMuY3JlYXRlKHtcbiAgICBpZDogJ2V4cG9ydC13cml0ZS1vZmYnLFxuICAgIHRpdGxlOiAnRXhwb3J0XHUwMTEzdCB1eiBIb3Jpem9uIGZhaWx1IChwcm9kdWt0aSArIGRhdWR6dW1zKScsXG4gICAgY29udGV4dHM6IFsncGFnZSddXG4gIH0pO1xuICBjaHJvbWUuY29udGV4dE1lbnVzLmNyZWF0ZSh7XG4gICAgaWQ6ICdleHBvcnQtd3JpdGUtb2ZmLW5vLXF1YW50aXR5JyxcbiAgICB0aXRsZTogJ0V4cG9ydFx1MDExM3QgdXogSG9yaXpvbiBmYWlsdSAocHJvZHVrdGkpJyxcbiAgICBjb250ZXh0czogWydwYWdlJ11cbiAgfSk7XG59KTtcblxuY2hyb21lLmNvbnRleHRNZW51cy5vbkNsaWNrZWQuYWRkTGlzdGVuZXIoKGluZm8sIHRhYikgPT4ge1xuICBpZiAoaW5mby5tZW51SXRlbUlkID09PSAnc29ydC1ieS1jYXRlZ29yeScgJiYgdGFiPy5pZCkge1xuICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwgeyB0eXBlOiAnU09SVF9CWV9DQVRFR09SWScgfSk7XG4gIH1cbiAgaWYgKGluZm8ubWVudUl0ZW1JZCA9PT0gJ2V4cG9ydC10by1leGNlbCcgJiYgdGFiPy5pZCkge1xuICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwgeyB0eXBlOiAnRVhQT1JUX1RPX0VYQ0VMJyB9KTtcbiAgfVxuICBpZiAoaW5mby5tZW51SXRlbUlkID09PSAnZXhwb3J0LXdyaXRlLW9mZicgJiYgdGFiPy5pZCkge1xuICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwgeyB0eXBlOiAnRVhQT1JUX1dSSVRFX09GRicgfSk7XG4gIH1cbiAgaWYgKGluZm8ubWVudUl0ZW1JZCA9PT0gJ2V4cG9ydC13cml0ZS1vZmYtbm8tcXVhbnRpdHknICYmIHRhYj8uaWQpIHtcbiAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHsgdHlwZTogJ0VYUE9SVF9XUklURV9PRkZfTk9fUVVBTlRJVFknIH0pO1xuICB9XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBQSxPQUFPLFFBQVEsWUFBWSxZQUFZLE1BQU07QUFDM0MsU0FBTyxhQUFhLE9BQU87QUFBQSxJQUN6QixJQUFJO0FBQUEsSUFDSixPQUFPO0FBQUEsSUFDUCxVQUFVLENBQUMsTUFBTTtBQUFBLEVBQ25CLENBQUM7QUFDRCxTQUFPLGFBQWEsT0FBTztBQUFBLElBQ3pCLElBQUk7QUFBQSxJQUNKLE9BQU87QUFBQSxJQUNQLFVBQVUsQ0FBQyxNQUFNO0FBQUEsRUFDbkIsQ0FBQztBQUNELFNBQU8sYUFBYSxPQUFPO0FBQUEsSUFDekIsSUFBSTtBQUFBLElBQ0osT0FBTztBQUFBLElBQ1AsVUFBVSxDQUFDLE1BQU07QUFBQSxFQUNuQixDQUFDO0FBQ0QsU0FBTyxhQUFhLE9BQU87QUFBQSxJQUN6QixJQUFJO0FBQUEsSUFDSixPQUFPO0FBQUEsSUFDUCxVQUFVLENBQUMsTUFBTTtBQUFBLEVBQ25CLENBQUM7QUFDSCxDQUFDO0FBRUQsT0FBTyxhQUFhLFVBQVUsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUN2RCxNQUFJLEtBQUssZUFBZSxzQkFBc0IsS0FBSyxJQUFJO0FBQ3JELFdBQU8sS0FBSyxZQUFZLElBQUksSUFBSSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFBQSxFQUM5RDtBQUNBLE1BQUksS0FBSyxlQUFlLHFCQUFxQixLQUFLLElBQUk7QUFDcEQsV0FBTyxLQUFLLFlBQVksSUFBSSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUFBLEVBQzdEO0FBQ0EsTUFBSSxLQUFLLGVBQWUsc0JBQXNCLEtBQUssSUFBSTtBQUNyRCxXQUFPLEtBQUssWUFBWSxJQUFJLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQUEsRUFDOUQ7QUFDQSxNQUFJLEtBQUssZUFBZSxrQ0FBa0MsS0FBSyxJQUFJO0FBQ2pFLFdBQU8sS0FBSyxZQUFZLElBQUksSUFBSSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFBQSxFQUMxRTtBQUNGLENBQUM7IiwKICAibmFtZXMiOiBbXQp9Cg==
